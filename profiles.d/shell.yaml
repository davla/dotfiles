actions:
  post:
    bash: bash ./actions/bash.sh {{@@ dotdirs_file @@}}
    sh: env -i HOME="$HOME" sh ./actions/sh.sh {{@@ dotdirs_file @@}}
    zsh: zsh ./actions/zsh.zsh {{@@ dotdirs_file @@}}
config:
  backup: false
  banner: true
  create: true
  dotpath: ../dotfiles
  ignoreempty: true
  keepdot: false
  link_dotfile_default: nolink
  link_on_import: nolink
  longkey: false
  showdiff: true
  workdir: ~/.config/dotdrop
dotfiles:
  d_bash:
    dst: '{{@@ bdotdir @@}}'
    src: config/bash
    trans_read: fix-home
    upignore:
    - .bash_history
    - cache
  d_sh:
    dst: ~/.config/sh
    src: config/sh
    trans_read: fix-home
    upignore:
    - plugins/data
    - cache
  d_thefuck:
    src: config/thefuck
    dst: ~/.config/thefuck
    upignore:
    - '*.pyc'
  d_zsh:
    dst: '{{@@ zdotdir @@}}'
    src: config/zsh
    trans_read: fix-home
    upignore:
    - .zcompdump
    - .zsh_history
    - .antibody
    - cache
    - 'plugins/plugins-*.zsh'
  f_dotdirs:
    dst: '{{@@ dotdirs_file @@}}'
    src: config/dotdirs
profiles:
  bash:
    dotfiles:
    - d_bash
    include:
    - sh
    actions:
    - bash
  sh:
    dotfiles:
    - d_sh
    - d_thefuck
    - f_dotdirs
    actions:
    - sh
  zsh:
    dotfiles:
    - d_zsh
    include:
    - sh
    actions:
    - zsh
trans_read:
  fix-home: sh ./transformations/fix-home.sh {0} {1}
variables:
  bdotdir: ~/.config/bash
  sdotdir: ~/.config/sh
  zdotdir: ~/.config/zsh
  dotdirs_file: ~/.config/dotdirs
